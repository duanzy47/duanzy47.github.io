{{- define "main" }}

<div class="window">
  <div class="title-bar">
    <div class="title-bar-text">{{ .Title }} - Maison Hatoyama</div>
    <div class="title-bar-controls">
      <div class="title-bar-control">_</div>
      <div class="title-bar-control">□</div>
      <div class="title-bar-control">×</div>
    </div>
  </div>
  
  <div class="menu-bar">
    <span class="menu-item"><u>F</u>ile</span>
    <span class="menu-item"><u>E</u>dit</span>
    <span class="menu-item"><u>V</u>iew</span>
    <span class="menu-item"><u>H</u>elp</span>
  </div>

  <article class="post window-body">
    <header class="post-header">
      <div class="post-title">{{ .Title }}{{- if .Draft }} [DRAFT]{{- end }}</div>
      {{- if not (.Param "hideMeta") }}
      <div class="post-meta">
        {{- partial "post_meta.html" . -}}
      </div>
      {{- end }}
      {{- if .Description }}
      <div class="post-description">
        {{ .Description }}
      </div>
      {{- end }}
    </header>

    {{- if (.Param "ShowToc") }}
    <div class="fieldset">
      <legend>Table of Contents</legend>
      {{- partial "toc.html" . }}
    </div>
    {{- end }}

    {{- if .Content }}
    <div class="post-content">
      {{- if not (.Param "disableAnchoredHeadings") }}
      {{- partial "anchored_headings.html" .Content -}}
      {{- else }}{{ .Content }}{{ end }}
    </div>
    {{- end }}

    <footer class="post-footer">
      {{- $tags := .Language.Params.Taxonomies.tag | default "tags" }}
      {{- if gt (len ($.GetTerms $tags)) 0 }}
      <div class="fieldset">
        <legend>Tags</legend>
        {{- range ($.GetTerms $tags) }}
        <a href="{{ .Permalink }}" class="btn">{{ .LinkTitle }}</a>
        {{- end }}
      </div>
      {{- end }}
      
      {{- if (.Param "ShowPostNavLinks") }}
      <div class="fieldset">
        <legend>Navigation</legend>
        {{- partial "post_nav_links.html" . }}
      </div>
      {{- end }}
    </footer>
  </article>

  <div class="status-bar">
    <div class="status-field">Ready</div>
    <div class="status-field">{{ .Date.Format "2006-01-02" }}</div>
    <div class="status-field">{{ .WordCount }} words</div>
  </div>
</div>

<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://julian-10.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

{{- end }}{{/* end main */}}
